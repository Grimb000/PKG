
# Техническая документация

## Программа для растеризации графики

### 1. Архитектура приложения

#### 1.1 Общее описание

Программа разработана на основе веб-приложения с использованием Python (Flask) и JavaScript для выполнения алгоритмов растеризации, визуализации и взаимодействия с пользователем.

#### 1.2 Основные компоненты

- Flask-сервер: Обработка запросов, выполнение алгоритмов растеризации и возврат результатов.
- HTML/CSS/JavaScript: Визуализация интерфейса, взаимодействие с пользователем и отображение графики.
- Алгоритмы растеризации: Реализация различных методов построения линий и окружностей.

### 2. Технологии и библиотеки

#### 2.1 Основные технологии

- Flask: Серверная часть для обработки HTTP-запросов.
- JavaScript: Управление визуализацией графики.
- HTML5 Canvas API: Рендеринг растеризованных объектов.
- CSS: Оформление пользовательского интерфейса.

#### 2.2 Внешние библиотеки

- Flask: Обеспечивает серверную часть веб-приложения.
- Math: Используется для вычислений в алгоритмах.

### 3. Структура кода

#### 3.1 Основные модули

**main.py** — Серверная логика приложения:
- Выполняет алгоритмы растеризации.
- Принимает входные данные и возвращает результат.

**index.html** — Пользовательский интерфейс:
- Визуализирует результаты работы алгоритмов.
- Обеспечивает ввод параметров.

#### 3.2 Алгоритмы растеризации

**Пошаговый алгоритм**

Растеризует линию через равномерное приращение координат:

```python
def step_by_step_algorithm(x0, y0, x1, y1):
    # Вычисление шага и приращений
    ...
    return points
```

**ЦДА (DDA)**

Алгоритм построения линии через дробные приращения:

```python
def dda_algorithm(x0, y0, x1, y1):
    # Рассчет дробных шагов
    ...
    return points
```

**Алгоритм Брезенхема**

Оптимизированное построение линии через целочисленные вычисления:

```python
def bresenham_algorithm(x0, y0, x1, y1):
    # Рекуррентное вычисление ошибки
    ...
    return points
```

**Алгоритм окружности Брезенхема**

Растеризует окружность через симметрию точек:

```python
def bresenham_circle_algorithm(x0, y0, r):
    # Построение окружности по радиусу
    ...
    return points
```

### 4. Взаимодействие сервер-клиент

#### 4.1 Маршруты Flask

- **GET /**: Возвращает главную страницу приложения.
- **POST /draw**: Принимает параметры алгоритма, выполняет растеризацию и возвращает:
  - Координаты точек.
  - Время выполнения алгоритма.
  - Список вычислений для отображения.

#### 4.2 Формат данных

**Входные данные:**

```json
{
  "start": [x0, y0],
  "end": [x1, y1],
  "algorithm": "название_алгоритма"
}
```

**Выходные данные:**

```json
{
  "points": [[x1, y1], ...],
  "execution_time": 123.45,
  "calculations": ["x: 1, y: 2", ...]
}
```

### 5. Пользовательский интерфейс

#### 5.1 Функциональность

- Выбор алгоритма.
- Построение линий и окружностей на сетке.
- Масштабирование сетки.
- Очистка полотна.

#### 5.2 Взаимодействие

- **Canvas**: Рендеринг графики.
- **Кнопки управления**: Выбор алгоритмов, масштабирование, очистка.

#### 5.3 Основной код

```javascript
function setAlgorithm(algo) {
    algorithm = algo;
    document.getElementById("algorithm").innerText = algo;
}
function changeGridSize(delta) {
    gridSize = Math.max(5, gridSize + delta);
    drawGrid();
}
```

### 6. Оптимизация производительности

#### 6.1 Методы оптимизации

- Предварительная проверка координат для уменьшения числа итераций.
- Асинхронный рендеринг для повышения отзывчивости интерфейса.
- Минимизация отправляемых данных между сервером и клиентом.

#### 6.2 Рекомендации

- Минимизировать размеры сетки для ускорения построения.
- Использовать серверные вычисления для тяжелых задач.

### 7. Тестирование

#### 7.1 Модульные тесты

- Проверка корректности координат точек для различных алгоритмов.
- Тестирование обработки граничных случаев (вертикальные, горизонтальные линии).

#### 7.2 Нагрузочное тестирование

- Измерение времени выполнения для больших радиусов окружностей.
- Проверка стабильности при частой смене масштабов сетки.

### 8. Развертывание

#### 8.1 Требования

- Python 3.8+.
- Flask.
- Современный веб-браузер.

#### 8.2 Установка

1. Установите зависимости:

```bash
pip install flask
```

2. Запустите сервер:

```bash
python main.py
```

3. Откройте браузер и перейдите на [http://127.0.0.1:5000](http://127.0.0.1:5000).
