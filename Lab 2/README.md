# Техническая документация

## 1. Описание проекта
**Image Info Extractor** — это веб-приложение, предназначенное для извлечения информации о загруженных изображениях. Пользователь может загрузить одно или несколько изображений через интерфейс приложения, и получить информацию о размере, разрешении, глубине цвета и типе сжатия.

---

## 2. Основные функции
- Загрузка изображений через веб-интерфейс.
- Извлечение информации:
  - Размер изображения (в пикселях).
  - Разрешение (DPI).
  - Глубина цвета.
  - Тип сжатия (с потерями, без потерь или без сжатия).
- Отображение информации в табличной форме на веб-странице.

---

## 3. Требования
### 3.1 Серверная часть
- Python 3.8+
- Flask 2.0+
- Pillow (PIL) 9.0+

### 3.2 Клиентская часть
- Любой современный браузер с поддержкой JavaScript.

---

## 4. Архитектура приложения
### 4.1 Серверная часть
Серверная часть основана на Flask и использует библиотеку Pillow для обработки изображений. Она обрабатывает запросы на загрузку изображений, выполняет анализ и возвращает результат в формате JSON.

### 4.2 Клиентская часть
HTML-страница с формой для загрузки изображений. JavaScript используется для отправки изображений на сервер и отображения результатов в таблице.

---

## 5. Этапы работы
1. Пользователь выбирает изображения (или папку) и отправляет их через форму.
2. Изображения загружаются на сервер в формате `multipart/form-data`.
3. Сервер обрабатывает каждое изображение, извлекая следующую информацию:
   - Размер (в пикселях).
   - Разрешение (DPI).
   - Глубина цвета.
   - Тип сжатия.
4. Результаты обработки возвращаются клиенту в формате JSON.
5. Клиентская часть отображает результаты в виде таблицы.

---

## 6. Взаимодействие сервер-клиент

### 6.1 Формат данных
#### 1. Входные данные
- **Формат:** `multipart/form-data`.
- **Поля:**
  - `files`: Список файлов изображений.

#### 2. Выходные данные
- Формат: JSON.
- Структура:
  ```json
  [
    {
      "filename": "image1.jpg",
      "dimensions": [1920, 1080],
      "resolution": "300x300 DPI",
      "color_depth": 24,
      "compression": "Сжатие с потерями"
    },
    {
      "filename": "image2.png",
      "error": "Ошибка обработки"
    }
  ]
  
## 7. Оптимизация производительности

### 7.1 Методы оптимизации
- Параллельная обработка изображений с использованием `ThreadPoolExecutor`.
- Оптимизация загрузки файлов и уменьшение задержки при обработке.

### 7.2 Рекомендации
- Ограничение размера загружаемых файлов для предотвращения перегрузки сервера.
- Настройка таймаутов для долгих запросов.

---

## 8. Валидация данных
- Проверка формата файла при загрузке (допустимые форматы: JPEG, PNG, GIF, BMP, TIFF, PCX).
- Обработка исключений при попытке открытия недопустимого файла.

---

## 9. Тестирование

### 9.1 Модульные тесты
- Проверка корректности извлечения размеров, глубины цвета и типа сжатия для изображений.

### 9.2 Нагрузочное тестирование
- Обработка папок с большим количеством изображений.
- Тестирование параллельной загрузки с нескольких клиентов.
