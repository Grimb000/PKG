
# Техническая документация
## Проект: Визуализация 3D буквы с проекциями

### 1. Архитектура приложения

#### 1.1 Общее описание
Приложение является веб-ориентированным решением для отображения и манипуляции 3D-объектом — буквой "К". Основная функциональность включает:

- Визуализация 3D модели буквы.
- Генерация ортографических проекций (Oxy, Oxz, Oyz).
- Интерактивное управление поворотом, масштабированием и сбросом преобразований.

#### 1.2 Основные компоненты

1. **HTML**:
    - Каркас приложения.
    - Области для холстов (canvas) для визуализации 3D модели и её проекций.
2. **CSS**:
    - Стилизация пользовательского интерфейса.
3. **JavaScript**:
    - Логика визуализации и обработки пользовательских действий.

### 2. Технологии и библиотеки

#### 2.1 Основные технологии

- **HTML5** — разметка приложения.
- **CSS3** — стилизация.
- **JavaScript** — реализация функциональности.

#### 2.2 Внешние библиотеки

- Не используются.

### 3. Структура кода

#### 3.1 Основные элементы

- **vertices** — массив координат вершин буквы "К".
- **edges** — массив соединений (рёбер) между вершинами.
- **transformMatrix** — текущая матрица преобразования объекта.

#### 3.2 Ключевые методы

##### multiplyMatrixAndPoint
Функция для применения матрицы преобразования к точке.

```javascript
function multiplyMatrixAndPoint(matrix, point) {
    const result = [0, 0, 0, 1];
    for (let i = 0; i < 4; i++) {
      result[i] = matrix[i][0] * point[0] +
                  matrix[i][1] * point[1] +
                  matrix[i][2] * point[2] +
                  matrix[i][3];
    }
    return [result[0]/result[3], result[1]/result[3], result[2]/result[3]];
}
```

##### drawProjection
Функция для отображения объекта или его проекций на холсте.

```javascript
function drawProjection(ctx, vertices, edges, projectionFunc) {
    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
    ctx.beginPath();
    edges.forEach(edge => {
        const p1 = multiplyMatrixAndPoint(transformMatrix, vertices[edge[0]]);
        const p2 = multiplyMatrixAndPoint(transformMatrix, vertices[edge[1]]);
        const [x1, y1] = projectionFunc(p1);
        const [x2, y2] = projectionFunc(p2);
        ctx.moveTo(x1, y1);
        ctx.lineTo(x2, y2);
    });
    ctx.stroke();
}
```

##### rotateArbitraryAxis
Реализация поворота объекта вокруг произвольной оси.

```javascript
function rotateArbitraryAxis() {
    const x = parseFloat(document.getElementById('axisX').value);
    const y = parseFloat(document.getElementById('axisY').value);
    const z = parseFloat(document.getElementById('axisZ').value);
    const angle = Math.PI / 12;
    const rotationMatrix = /*...логика вычисления матрицы вращения...*/;
    transformMatrix = multiplyMatrices(rotationMatrix, transformMatrix);
    drawObject();
}
```

### 4. Пользовательский интерфейс

#### 4.1 Элементы управления

- Кнопки для вращения по осям X, Y, Z.
- Поля ввода для задания параметров произвольной оси вращения.
- Кнопка сброса преобразований.

#### 4.2 Холсты

- Основной холст для 3D представления.
- Три холста для ортографических проекций.

### 5. Оптимизация

#### 5.1 Методы оптимизации

- Оптимизация вычислений матриц через кэширование.
- Использование requestAnimationFrame для плавной отрисовки.

#### 5.2 Рекомендации

- Разделение логики и представления.
- Снижение количества вызовов перерисовки при минимальных изменениях.

### 6. Тестирование

#### 6.1 Тестовые сценарии

- Проверка корректности преобразований.
- Тестирование работы проекций при разных углах.

#### 6.2 Методы

- Юнит-тестирование функций преобразований.
- Визуальная проверка интерфейса.

### 7. Развертывание

#### 7.1 Требования

- Любой современный веб-браузер.
- Веб-сервер (для доступа через HTTP).

#### 7.2 Процесс

1. Развертывание файлов на веб-сервере.
2. Настройка доступа через HTTP/HTTPS.
